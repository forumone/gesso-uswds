{% set classes = [
  'usa-banner',
  modifier_classes ? modifier_classes,
]|join(' ')|trim %}

<section class="{{ classes }}" aria-label="{{ 'Official government website'|t }}">
  {% if has_expanded %}<div class="usa-accordion">{% endif %}
  <header class="usa-banner__header">
    <div class="usa-banner__inner">
      <div class="grid-col-auto">
        <img class="usa-banner__header-flag" src="{{ gesso_image_path }}/us_flag_small.png" alt="{{ 'U.S. flag'|t }}" />
      </div>
      <div class="grid-col-fill tablet:grid-col-auto">
        <p class="usa-banner__header-text">{{ banner_text }}</p>
      {% if has_expanded %}
        <p class="usa-banner__header-action" aria-hidden="true">{{ banner_action }}</p></div>
        <button class="usa-accordion__button usa-banner__button" aria-expanded="false" aria-controls="gov-banner">
          <span class="usa-banner__button-text">{{ banner_action }}</span>
        </button>
      {% else %}
        </div>
      {% endif %}
    </div>
  </header>
  {% if has_expanded %}
    <div class="usa-banner__content usa-accordion__content" id="gov-banner">
      <div class="grid-row grid-gap-lg">
        {% for block in expanded_blocks %}
          <div class="usa-banner__guidance tablet:grid-col-6">
            <img class="usa-banner__icon usa-media-block__img" src="{{ gesso_image_path }}/{{ block.icon }}" alt="{{ block.icon_alt }}">
            <div class="usa-media-block__body">
              <p>
                <strong>{{ block.heading }}</strong>
                <br> {{ block.content }}
              </p>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
  {% endif %}
</section>
